<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simular cartão de crédito</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Favicon (using image.png as 32x32 icon) -->
    <link rel="icon" href="image.png" type="image/png" sizes="32x32">
</head>
<body onload="definitions()">
    <header class="header" content="Precificação de Kit"></header>
    <main>
        <div id="container" class="container">
            <form>
                <label for="custoModulo">Valor de custo(R$)</label>
                <div class="input-group">
                    <span class="material-icons icon">attach_money</span>
                    <input type="text" id="custoModulo" value="15000,00" azutocomplete="off" inputmode="numeric" pattern="[0-9,]*" placeholder="Ex: 15000,00">
                </div>

                <label for="quantidadeModulos">Quantidade de módulos</label>
                <div class="input-group">
                    <span class="material-icons icon">grid_on</span>
                    <input type="number" id="quantidadeModulos" value="10" min="1" step="1" inputmode="numeric" placeholder="Ex: 10">
                </div>

                <label for="Potencia">Potência dos Módulos (W)</label>
                <div class="input-group">
                    <span class="material-icons icon">solar_power</span>
                    <select id="Potencia" name="Potencia">
                        <option value="550">550</option>
                        <option value="595">595</option>
                        <option value="600">600</option>
                        <option value="610" selected>610</option>
                        <option value="615">615</option>
                        <option value="650">650</option>
                        <option value="700">700</option>
                        <option value="800">800</option>
                    </select>
                </div>

                <button type="button" onclick="calcular()" class="button">
                    <span class="material-icons icon">calculate</span> Calcular
                </button>
            </form>
            <div style="margin-top:24px; padding:18px 14px; background:var(--cinza-claro); border-radius:12px; box-shadow:0 2px 8px rgba(1,36,74,0.07); text-align:center;">
                <p style="font-size:1.25em; font-weight:700; color:var(--azul-happy); margin-bottom:10px;">Preço final (custo total): <strong id="precoFinal">R$ 23968,64</strong></p>
                <p style="font-size:1.15em; font-weight:500; color:var(--azul-happy);">Geração estimada: <strong id="geracao">847,90 Kwh/mês</strong></p>
            </div>
            
        </div>
    </main>
    <footer class="footer"></footer>
    <script>
        function calcular(){
            const custoInput = document.getElementById('custoModulo');
            const quantidadeInput = document.getElementById('quantidadeModulos');
            const potenciaInput = document.getElementById('Potencia');
            const precoFinalDisplay = document.getElementById('precoFinal');
            const geracaolDisplay = document.getElementById('geracao');

            const custo = parseFloat(custoInput.value.replace(',', '.'));
            const quantidade = parseInt(quantidadeInput.value, 10);

            const Art = 103.9;
            const extras = 300;
            const taxas = {
                "Margem": 0.35,
                "Imposto": 0.05,
                "comissionamento": 0.05
            };

            const total = (quantidade*70 + Art + extras + custo )*((1+taxas["Margem"])*(1+taxas["Imposto"])*(1+taxas["comissionamento"]));
            const geracao = (parseFloat(potenciaInput.value)*quantidade)*0.139;


            precoFinalDisplay.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
            geracaolDisplay.textContent = `${geracao.toFixed(2).replace('.', ',')} Kwh/mês`;
            
        }

    </script>
    <script src="Utiles.js"></script>
    <script src="templates.js"></script>
</body>
</html>